
var lectures_base = {
  "introduction": "<i><p>Nous t’adorons, très saint Seigneur Jésus-Christ, ici et dans toutes les Églises du monde entier, et nous te bénissons d’avoir racheté le monde par ta sainte Croix</p></i><br/> \n <p>V/ Dieu, viens à mon aide,\n        <br />R/ Seigneur, à notre secours.</p>\n        <p>Gloire au Père, et au Fils et au Saint-Esprit,\n        au Dieu qui est, qui était et qui vient,\n        pour les siècles des siècles.\n        Amen. (Alléluia.)</p>",
  "hymne": {
    "titre": "",
    "texte": "",
  },
  "antienne_1": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_1": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_2": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_2": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_3": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_3": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "verset": "",
  "lecture_biblique": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "repons_bible": "",
  "lecture_patristique": {
    "titre": "",
    "sous_titre": "",
    "texte": ""
  },
  "repons_patristique": "",
  "te_deum":{
    "display": false,
    "titre": "Te Deum",
    "texte": "<p>À toi Dieu, notre louange !\n<br />        Nous t'acclamons, tu es Seigneur !\n<br />        À toi Père éternel,\n<br />        L’hymne de l’univers.</p>\n\n        <p>Devant toi se prosternent les archanges,\n<br />        les anges et les esprits des cieux ;\n<br />        ils te rendent grâce ;\n<br />        ils adorent et ils chantent :</p>\n\n        <p>Saint, Saint, Saint, le Seigneur,\n<br />        Dieu de l'univers ;\n<br />        le ciel et la terre sont remplis de ta gloire.</p>\n\n        <p>C'est toi que les Apôtres glorifient,\n<br />        toi que proclament les prophètes,\n<br />        toi dont témoignent les martyrs ;\n<br />        c'est toi que par le monde entier\n<br />        l'Église annonce et reconnaît.</p>\n\n        <p>Dieu, nous t'adorons :\n<br />        Père infiniment saint,\n<br />        Fils éternel et bien-aimé,\n<br />        Esprit de puissance et de paix.</p>\n\n        <p>Christ, le Fils du Dieu vivant,\n<br />        le Seigneur de la gloire,\n<br />        tu n'as pas craint de prendre chair\n<br />        dans le corps d'une vierge\n<br />        pour libérer l'humanité captive.</p>\n\n        <p>Par ta victoire sur la mort,\n<br />        tu as ouvert à tout croyant\n<br />        les portes du Royaume ;\n<br />        tu règnes à la droite du Père ;\n<br />        tu viendras pour le jugement.</p>\n\n        <p>Montre-toi le défenseur et l'ami\n<br />        des hommes sauvés par ton sang :\n<br />        prends-les avec tous les saints\n<br />        dans ta joie et dans ta lumière.</p>",
  },
  "oraison": "",
};

var laudes_base = {
  "antienne_invitatoire": {
    "antienne_A": "",
    "antienne_B": "",
  },
  "introduction": "<i><p>Nous t’adorons, très saint Seigneur Jésus-Christ, ici et dans toutes les Églises du monde entier, et nous te bénissons d’avoir racheté le monde par ta sainte Croix</p></i><br/> \n <p>V/ Seigneur, ouvre mes lèvres,\n <br />R/ et ma bouche publiera ta louange.</p>",
  "hymne": {
    "titre": "",
    "texte": "",
  },
  "antienne_1": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_1": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_2": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_2": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_3": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_3": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "pericope": {
    "reference": "",
    "texte": ""
  },
  "repons": "",
  "antienne_zacharie": {
    "antienne_A": "",
    "antienne_B": "",
  },
  "cantique_zacharie": {
    "titre":"Cantique de Zacharie",
    "texte":"<p><span class=\"verse_number\">68</span> Béni soit le Seigneur, le Die<u>u</u> d'Israël,<br />\nqui visite et rach<u>è</u>te son peuple.<br /><br /><span class=\"verse_number\">69</span> Il a fait surgir la f<u>o</u>rce qui nous sauve<br />\ndans la maison de Dav<u>i</u>d, son serviteur,<br /><br /><span class=\"verse_number\">70</span> comme il l'avait dit par la bo<u>u</u>che des saints,<br />\npar ses prophètes, depuis les t<u>e</u>mps anciens :<br /><br /><span class=\"verse_number\">71</span> salut qui nous arr<u>a</u>che à l'ennemi,<br />\nà la main de to<u>u</u>s nos oppresseurs,<br /><br /><span class=\"verse_number\">72</span> amour qu'il m<u>o</u>ntre envers nos pères,<br />\nmémoire de son alli<u>a</u>nce sainte,<br /><br /><span class=\"verse_number\">73</span> serment juré à notre p<u>è</u>re Abraham<br />\n   de nous r<u>e</u>ndre sans crainte,<br /><br /><span class=\"verse_number\">74</span> afin que, délivrés de la m<u>a</u>in des ennemis, +<br /><span class=\"verse_number\">75</span> nous le servions dans la just<u>i</u>ce et la sainteté,<br />\nen sa présence, tout au l<u>o</u>ng de nos jours.<br /><br /><span class=\"verse_number\">76</span> Et toi, petit enfant, tu seras appelé<br />\n   proph<u>è</u>te du Très-Haut : *<br />\ntu marcheras devant, à la face du Seigneur,<br />\n   et tu préparer<u>a</u>s ses chemins<br /><br /><span class=\"verse_number\">77</span> pour donner à son peuple de conn<u>a</u>ître le salut<br />\npar la rémissi<u>o</u>n de ses péchés,<br /><br /><span class=\"verse_number\">78</span> grâce à la tendresse, à l'amo<u>u</u>r de notre Dieu,<br />\nquand nous visite l'<u>a</u>stre d'en haut,<br /><br /><span class=\"verse_number\">79</span> pour illuminer ceux qui habitent les ténèbres<br />\n   et l'<u>o</u>mbre de la mort, *<br />\npour conduire nos pas<br />\n   au chem<u>i</u>n de la paix.</p>"
  },
  "intercession": "",
  "oraison": "",
  "benediction": ""
};

var petite_heures_base = {
  "introduction": "<i><p>Nous t’adorons, très saint Seigneur Jésus-Christ, ici et dans toutes les Églises du monde entier, et nous te bénissons d’avoir racheté le monde par ta sainte Croix</p></i><br/> \n <p>V/ Dieu, viens à mon aide,\n        <br />R/ Seigneur, à notre secours.</p>\n        <p>Gloire au Père, et au Fils et au Saint-Esprit,\n        au Dieu qui est, qui était et qui vient,\n        pour les siècles des siècles.\n        Amen. (Alléluia.)</p>",
  "hymne": {
    "titre": "",
    "texte": "",
  },
  "antienne_1": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_1": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_2": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_2": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_3": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_3": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "pericope": {
    "reference": "",
    "texte": ""
  },
  "repons": "",
  "oraison": "",
  "benediction": ""
};


var vepres_base = {
  "introduction": "<i><p>Nous t’adorons, très saint Seigneur Jésus-Christ, ici et dans toutes les Églises du monde entier, et nous te bénissons d’avoir racheté le monde par ta sainte Croix</p></i><br/> \n <p>V/ Dieu, viens à mon aide,\n        <br />R/ Seigneur, à notre secours.</p>\n        <p>Gloire au Père, et au Fils et au Saint-Esprit,\n        au Dieu qui est, qui était et qui vient,\n        pour les siècles des siècles.\n        Amen. (Alléluia.)</p>",
  "hymne": {
    "titre": "",
    "texte": "",
  },
  "antienne_1": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_1": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_2": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_2": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "antienne_3": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_3": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "pericope": {
    "reference": "",
    "texte": ""
  },
  "repons": "",
  "antienne_marie": {
    "antienne_A": "",
    "antienne_B": "",
  },
  "cantique_marie": {
    "titre":"Cantique de Marie",
    "texte":"<p><span class=\"verse_number\">47</span> Mon âme ex<u>a</u>lte le Seigneur,<br />\nexulte mon esprit en Die<u>u</u>, mon Sauveur !<br /><br /><span class=\"verse_number\">48</span> Il s'est penché sur son h<u>u</u>mble servante ;<br />\ndésormais, tous les âges me dir<u>o</u>nt bienheureuse.<br /><br /><span class=\"verse_number\">49</span> Le Puissant fit pour m<u>o</u>i des merveilles ;<br />\nS<u>a</u>int est son nom !<br /><br /><span class=\"verse_number\">50</span> Son amour s'ét<u>e</u>nd d'âge en âge<br />\nsur ce<u>u</u>x qui le craignent ;<br /><br /><span class=\"verse_number\">51</span> Déployant la f<u>o</u>rce de son bras,<br />\nil disp<u>e</u>rse les superbes.<br /><br /><span class=\"verse_number\">52</span> Il renverse les puiss<u>a</u>nts de leurs trônes,<br />\nil él<u>è</u>ve les humbles.<br /><br /><span class=\"verse_number\">53</span> Il comble de bi<u>e</u>ns les affamés,<br />\nrenvoie les r<u>i</u>ches les mains vides.<br /><br /><span class=\"verse_number\">54</span> Il relève Isra<u>ë</u>l, son serviteur,<br />\nil se souvi<u>e</u>nt de son amour,<br /><br /><span class=\"verse_number\">55</span> de la promesse f<u>a</u>ite à nos pères,<br />\nen faveur d'Abraham et de sa r<u>a</u>ce, à jamais.</p>"
  },
  "intercession": "",
  "oraison": "",
  "benediction": ""
};

var complies_base = {
  "introduction": "<i><p>Nous t’adorons, très saint Seigneur Jésus-Christ, ici et dans toutes les Églises du monde entier, et nous te bénissons d’avoir racheté le monde par ta sainte Croix</p></i><br/> \n <p>V/ Dieu, viens à mon aide,\n        <br />R/ Seigneur, à notre secours.</p>\n        <p>Gloire au Père, et au Fils et au Saint-Esprit,\n        au Dieu qui est, qui était et qui vient,\n        pour les siècles des siècles.\n        Amen. (Alléluia.)</p>",
  "hymne": {
    "titre": "",
    "texte": "",
  },
  "antienne_1": {
    "additionel": "",
    "antienne_A": "",
    "antienne_B": "",
  },
  "psaume_1": {
    "reference": "",
    "titre": "",
    "texte": ""
  },
  "pericope": {
    "reference": "",
    "texte": ""
  },
  "repons": "",
  "antienne_symeon": {
    "antienne_A": "",
    "antienne_B": "",
  },
  "cantique_symeon": {
    "titre":"Cantique de Syméon",
    "texte":"<p><span class=\"verse_number\">29</span> Maintenant, ô M<u>a</u>ître souverain, +<br />\ntu peux laisser ton servite<u>u</u>r s'en aller<br />\nen paix, sel<u>o</u>n ta parole.<br /><br /><span class=\"verse_number\">30</span> Car mes yeux ont v<u>u</u> le salut<br /><span class=\"verse_number\">31</span> que tu préparais à la f<u>a</u>ce des peuples :<br /><br /><span class=\"verse_number\">32</span> lumière qui se rév<u>è</u>le aux nations<br />\net donne gloire à ton pe<u>u</u>ple Israël.</p>"
  },
  "oraison": "",
  "benediction": "",
  "hymne_mariale": {
    "titre": "",
    "texte": "",
  },
};

var tab_mois=new Array("Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre");

function create_office_html(office, date, zone, hymne, invitatoire, contenu_aelf, contenu_franciscain=null, hymne_selected){
  var date_obj = new Date(date)

  var sous_titre = ""
  if (contenu_franciscain != null) {
    sous_titre =  "<h2>" + toTitleCase(contenu_franciscain["informations"]["titre"]) + "</h2>";
    contenu_aelf["informations"]["franciscain"] = true;
  }else {
    if (contenu_aelf["informations"]["jour_liturgique_nom"] != "de la férie") {
      sous_titre = "<h2>" + contenu_aelf["informations"]['jour_liturgique_nom'] + "</h2>"
    } else if (contenu_aelf["informations"]["fete"] != "de la férie") {
      sous_titre = "<h2>" + contenu_aelf["informations"]['fete'].charAt(0).toUpperCase() + contenu_aelf["informations"]['fete'].slice(1) + "</h2>"
    } else {
      sous_titre = "<h2>" + contenu_aelf["informations"]['ligne1'].charAt(0).toUpperCase() + contenu_aelf["informations"]['ligne1'].slice(1) + "</h2>"
    }
  }

  contenu_aelf["informations"]["ligne1"] = sous_titre;

  //Calclul de la période liturigique, pour l'affichage de l'hymne
  if (office != "messes") {
    var temps_liturgique = contenu_aelf["informations"]["temps_liturgique"];
    var semaine = contenu_aelf["informations"]["semaine"];
    var degre = contenu_aelf["informations"]["degre"];
    var jour_nom = contenu_aelf["informations"]["jour_liturgique_nom"];
    var hymne_titre = contenu_aelf[office]["hymne"]["titre"];
    var periode = "default";
    var selection = "";
    var hymne_unique = true;
  
    switch (temps_liturgique) {
      case "avent":
        periode = "avent";
        hymne_unique = false;
        break;
      case "noel":
        if (jour_nom.includes("piphanie")) {//let's avoid any problem with accentuation
          periode = "epiphanie";
        } else {
          periode = "noel";
        }
        break;
      case "careme":
        if (semaine== null) {
          periode = "passion";
        } else if (semaine[0]== "5"){
          periode = "passion";
        } else {
          periode = "careme";
        }
        break;
      case "triduum":
        periode = "default";
        break;
      case "pascal":
        periode = "pascal";
        break;
      default:
        periode = "default";
        break;
    }
  
      //should there be further rules, especially for feast during these liturgical periods, which may or may not have their specific hymns?
  
  
    if (periode != "default") {
      if (hymne_in_periode(hymne_titre, periode)) {
        hymne_unique = false;
        hymnes_disponibles = liste_hymnes(periode);
        selection = "<select class='hymne_select' onchange='hymne_update(this)' name='Hymne'>";
        for (i = 0; i < hymnes_disponibles.length; i++) {
          selection += "<option value='" + hymnes_disponibles[i] + "'>" + hymnes_disponibles[i] + "</option>";
        }
        selection += "</select>";
      }
    }
  
  }

  switch (office) {
    case "lectures":
    return create_lectures_html(combine_lectures(contenu_aelf["lectures"], contenu_franciscain), contenu_aelf["informations"], date_obj, hymne_unique, selection, hymne_selected);
      break;
    case "laudes":
      return create_laudes_html(combine_laudes(contenu_aelf["laudes"], contenu_franciscain), contenu_aelf["informations"], date_obj, hymne_unique, invitatoire, selection, hymne_selected);
      break;
    case "vepres":
      return create_vepres_html(combine_vepres(contenu_aelf["vepres"], contenu_franciscain), contenu_aelf["informations"], date_obj, hymne_unique, selection, hymne_selected);
      break;
    case "complies": //no need to combine with another office, as complies are always the same
      return create_complies_html(contenu_aelf["complies"], contenu_aelf["informations"], date_obj, true)
      break;
    case "tierce":
      return create_tierce_html(combine_petite_heure(contenu_aelf["tierce"]), contenu_aelf["informations"], date_obj, true)
      break;
    case "sexte":
      return create_sexte_html(combine_petite_heure(contenu_aelf["sexte"]), contenu_aelf["informations"], date_obj, true)
      break;
    case "none":
      return create_none_html(combine_petite_heure(contenu_aelf["none"]), contenu_aelf["informations"], date_obj, true)
      break;
    case "messes":
      if (contenu_franciscain != null) {
        return create_messe_html(contenu_franciscain, contenu_aelf["informations"], date_obj);
      } else {
        return create_messe_html(contenu_aelf["messes"][zone.split(";")[1]], contenu_aelf["informations"], date_obj);
      }
      break;
    default:
  }
}

function combine_lectures(contenu_aelf, contenu_franciscain){
  var contenu_final = JSON.parse(JSON.stringify(lectures_base));
  if (contenu_franciscain == null){
    contenu_franciscain = JSON.parse(JSON.stringify(lectures_base));
  }

  contenu_final["hymne"]["titre"] = (contenu_franciscain["hymne"]["titre"] == "") ? contenu_aelf["hymne"]["titre"] : contenu_franciscain["hymne"]["titre"];
  contenu_final["hymne"]["texte"] = (contenu_franciscain["hymne"]["texte"] == "") ? contenu_aelf["hymne"]["texte"] : contenu_franciscain["hymne"]["texte"];

  contenu_final["antienne_1"]["additionel"] = contenu_franciscain["antienne_1"]["additionel"];
  contenu_final["antienne_1"]["antienne_B"] = contenu_franciscain["antienne_1"]["antienne_B"];
  contenu_final["antienne_1"]["antienne_A"] = (contenu_franciscain["antienne_1"]["antienne_A"] == "") ? (contenu_aelf["antienne_1"] == undefined ? "" : contenu_aelf["antienne_1"]) : contenu_franciscain["antienne_1"]["antienne_A"];
  contenu_final["psaume_1"]["reference"] = (contenu_franciscain["psaume_1"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_1"]["reference"]) : contenu_franciscain["psaume_1"]["reference"];
  contenu_final["psaume_1"]["texte"] = (contenu_franciscain["psaume_1"]["texte"] == "") ? contenu_aelf["psaume_1"]["texte"] : contenu_franciscain["psaume_1"]["texte"];

  contenu_final["antienne_2"]["additionel"] = contenu_franciscain["antienne_2"]["additionel"];
  contenu_final["antienne_2"]["antienne_B"] = contenu_franciscain["antienne_2"]["antienne_B"];
  contenu_final["antienne_2"]["antienne_A"] = (contenu_franciscain["antienne_2"]["antienne_A"] == "") ? (contenu_aelf["antienne_2"] == undefined ? "" : contenu_aelf["antienne_2"]) : contenu_franciscain["antienne_2"]["antienne_A"];
  contenu_final["psaume_2"]["reference"] = (contenu_franciscain["psaume_2"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_2"]["reference"]) : contenu_franciscain["psaume_2"]["reference"];
  contenu_final["psaume_2"]["texte"] = (contenu_franciscain["psaume_2"]["texte"] == "") ? contenu_aelf["psaume_2"]["texte"] : contenu_franciscain["psaume_2"]["texte"];

  contenu_final["antienne_3"]["additionel"] = contenu_franciscain["antienne_3"]["additionel"];
  contenu_final["antienne_3"]["antienne_B"] = contenu_franciscain["antienne_3"]["antienne_B"];
  contenu_final["antienne_3"]["antienne_A"] = (contenu_franciscain["antienne_3"]["antienne_A"] == "") ? (contenu_aelf["antienne_3"] == undefined ? "" : contenu_aelf["antienne_3"]) : contenu_franciscain["antienne_3"]["antienne_A"];
  contenu_final["psaume_3"]["reference"] = (contenu_franciscain["psaume_3"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_3"]["reference"]) : contenu_franciscain["psaume_3"]["reference"];
  contenu_final["psaume_3"]["texte"] = (contenu_franciscain["psaume_3"]["texte"] == "") ? contenu_aelf["psaume_3"]["texte"] : contenu_franciscain["psaume_3"]["texte"];

  contenu_final["verset_psaume"] = (contenu_franciscain["verset"] == "") ? contenu_aelf["verset_psaume"] : contenu_franciscain["verset"];

  contenu_final["lecture_biblique"]["titre"] = (contenu_franciscain["lecture_biblique"]["titre"] == "") ? contenu_aelf["lecture"]["titre"] : contenu_franciscain["lecture_biblique"]["titre"];
  contenu_final["lecture_biblique"]["reference"] = contenu_aelf["lecture"]["reference"];
  contenu_final["lecture_biblique"]["texte"] = (contenu_franciscain["lecture_biblique"]["texte"] == "") ? contenu_aelf["lecture"]["texte"] : contenu_franciscain["lecture_biblique"]["texte"];
  contenu_final["repons_bible"] = (contenu_franciscain["repons_bible"] == "") ? contenu_aelf["repons_lecture"] : contenu_franciscain["repons_bible"];

  contenu_final["lecture_patristique"]["titre"] = (contenu_franciscain["lecture_patristique"]["titre"] == "") ? contenu_aelf["titre_patristique"] : contenu_franciscain["lecture_patristique"]["titre"];
  contenu_final["lecture_patristique"]["sous_titre"] = contenu_franciscain["lecture_patristique"]["sous_titre"];
  contenu_final["lecture_patristique"]["texte"] = (contenu_franciscain["lecture_patristique"]["texte"] == "") ? contenu_aelf["texte_patristique"] : contenu_franciscain["lecture_patristique"]["texte"];
  contenu_final["repons_patristique"] = (contenu_franciscain["repons_patristique"] == "") ? contenu_aelf["repons_patristique"] : contenu_franciscain["repons_patristique"];

  if (!Array.isArray(contenu_aelf["te_deum"]) || (contenu_franciscain["te_deum"] == true)) { // to update with franciscan office
    contenu_final["te_deum"]["display"] = true;
  }


  contenu_final["oraison"] = (contenu_franciscain["oraison"] == "") ? contenu_aelf["oraison"] : contenu_franciscain["oraison"];

  return contenu_final;
}

function combine_laudes(contenu_aelf, contenu_franciscain){
  var contenu_final = JSON.parse(JSON.stringify(laudes_base));
  if (contenu_franciscain == null){
    contenu_franciscain = JSON.parse(JSON.stringify(laudes_base));
  }
  contenu_final["antienne_invitatoire"]["antienne_B"] = contenu_franciscain["antienne_invitatoire"]["antienne_B"];
  contenu_final["antienne_invitatoire"]["antienne_A"] = (contenu_franciscain["antienne_invitatoire"]["antienne_A"] == "") ? (contenu_aelf["antienne_invitatoire"] == undefined ? "" : contenu_aelf["antienne_invitatoire"]) : contenu_franciscain["antienne_invitatoire"]["antienne_A"];

  contenu_final["hymne"]["titre"] = (contenu_franciscain["hymne"]["titre"] == "") ? contenu_aelf["hymne"]["titre"] : contenu_franciscain["hymne"]["titre"];
  contenu_final["hymne"]["texte"] = (contenu_franciscain["hymne"]["texte"] == "") ? contenu_aelf["hymne"]["texte"] : contenu_franciscain["hymne"]["texte"];

  contenu_final["antienne_1"]["additionel"] = contenu_franciscain["antienne_1"]["additionel"];
  contenu_final["antienne_1"]["antienne_B"] = contenu_franciscain["antienne_1"]["antienne_B"];
  contenu_final["antienne_1"]["antienne_A"] = (contenu_franciscain["antienne_1"]["antienne_A"] == "") ? (contenu_aelf["antienne_1"] == undefined ? "" : contenu_aelf["antienne_1"]) : contenu_franciscain["antienne_1"]["antienne_A"];
  contenu_final["psaume_1"]["reference"] = (contenu_franciscain["psaume_1"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_1"]["reference"]) : contenu_franciscain["psaume_1"]["reference"];
  contenu_final["psaume_1"]["texte"] = (contenu_franciscain["psaume_1"]["texte"] == "") ? contenu_aelf["psaume_1"]["texte"] : contenu_franciscain["psaume_1"]["texte"];

  contenu_final["antienne_2"]["additionel"] = contenu_franciscain["antienne_2"]["additionel"];
  contenu_final["antienne_2"]["antienne_B"] = contenu_franciscain["antienne_2"]["antienne_B"];
  contenu_final["antienne_2"]["antienne_A"] = (contenu_franciscain["antienne_2"]["antienne_A"] == "") ? (contenu_aelf["antienne_2"] == undefined ? "" : contenu_aelf["antienne_2"]) : contenu_franciscain["antienne_2"]["antienne_A"];
  contenu_final["psaume_2"]["reference"] = (contenu_franciscain["psaume_2"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_2"]["reference"]) : contenu_franciscain["psaume_2"]["reference"];
  contenu_final["psaume_2"]["texte"] = (contenu_franciscain["psaume_2"]["texte"] == "") ? contenu_aelf["psaume_2"]["texte"] : contenu_franciscain["psaume_2"]["texte"];

  contenu_final["antienne_3"]["additionel"] = contenu_franciscain["antienne_3"]["additionel"];
  contenu_final["antienne_3"]["antienne_B"] = contenu_franciscain["antienne_3"]["antienne_B"];
  contenu_final["antienne_3"]["antienne_A"] = (contenu_franciscain["antienne_3"]["antienne_A"] == "") ? (contenu_aelf["antienne_3"] == undefined ? "" : contenu_aelf["antienne_3"]) : contenu_franciscain["antienne_3"]["antienne_A"];
  contenu_final["psaume_3"]["reference"] = (contenu_franciscain["psaume_3"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_3"]["reference"]) : contenu_franciscain["psaume_3"]["reference"];
  contenu_final["psaume_3"]["texte"] = (contenu_franciscain["psaume_3"]["texte"] == "") ? contenu_aelf["psaume_3"]["texte"] : contenu_franciscain["psaume_3"]["texte"];

  contenu_final["pericope"]["reference"] = (contenu_franciscain["pericope"]["reference"] == "") ? contenu_aelf["pericope"]["reference"] : contenu_franciscain["pericope"]["reference"];
  contenu_final["pericope"]["texte"] = (contenu_franciscain["pericope"]["texte"] == "") ? contenu_aelf["pericope"]["texte"] : contenu_franciscain["pericope"]["texte"];

  contenu_final["repons"] = (contenu_franciscain["repons"] == "") ? contenu_aelf["repons"] : contenu_franciscain["repons"];

  contenu_final["antienne_zacharie"]["antienne_A"] = (contenu_franciscain["antienne_zacharie"]["antienne_A"] == "") ? contenu_aelf["antienne_zacharie"] : contenu_franciscain["antienne_zacharie"]["antienne_A"];
  contenu_final["antienne_zacharie"]["antienne_B"] = contenu_franciscain["antienne_zacharie"]["antienne_B"];

  contenu_final["intercession"] = (contenu_franciscain["intercession"] == "") ? contenu_aelf["intercession"] : contenu_franciscain["intercession"];

  contenu_final["oraison"] = (contenu_franciscain["oraison"] == "") ? contenu_aelf["oraison"] : contenu_franciscain["oraison"];

  return contenu_final;
}


function combine_vepres(contenu_aelf, contenu_franciscain=null){
  var contenu_final = JSON.parse(JSON.stringify(vepres_base));
  if (contenu_franciscain == null){
    contenu_franciscain = JSON.parse(JSON.stringify(vepres_base));
  }
  //contenu_final["hymne"]["titre"] = (contenu_franciscain["hymne"]["titre"] == "") ? contenu_aelf["hymne"]["titre"] : contenu_franciscain["hymne"]["titre"];
  //contenu_final["hymne"]["texte"] = (contenu_franciscain["hymne"]["texte"] == "") ? contenu_aelf["hymne"]["texte"] : contenu_franciscain["hymne"]["texte"];

  contenu_final["hymne"]["titre"] = (contenu_franciscain["hymne"]["titre"] == "") ? contenu_aelf["hymne"]["titre"] : contenu_franciscain["hymne"]["titre"];
  contenu_final["hymne"]["texte"] = (contenu_franciscain["hymne"]["texte"] == "") ? contenu_aelf["hymne"]["texte"] : contenu_franciscain["hymne"]["texte"];

  contenu_final["antienne_1"]["additionel"] = contenu_franciscain["antienne_1"]["additionel"];
  contenu_final["antienne_1"]["antienne_B"] = contenu_franciscain["antienne_1"]["antienne_B"];
  contenu_final["antienne_1"]["antienne_A"] = (contenu_franciscain["antienne_1"]["antienne_A"] == "") ? (contenu_aelf["antienne_1"] == undefined ? "" : contenu_aelf["antienne_1"]) : contenu_franciscain["antienne_1"]["antienne_A"];
  contenu_final["psaume_1"]["reference"] = (contenu_franciscain["psaume_1"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_1"]["reference"]) : contenu_franciscain["psaume_1"]["reference"];
  contenu_final["psaume_1"]["texte"] = (contenu_franciscain["psaume_1"]["texte"] == "") ? contenu_aelf["psaume_1"]["texte"] : contenu_franciscain["psaume_1"]["texte"];

  contenu_final["antienne_2"]["additionel"] = contenu_franciscain["antienne_2"]["additionel"];
  contenu_final["antienne_2"]["antienne_B"] = contenu_franciscain["antienne_2"]["antienne_B"];
  contenu_final["antienne_2"]["antienne_A"] = (contenu_franciscain["antienne_2"]["antienne_A"] == "") ? (contenu_aelf["antienne_2"] == undefined ? "" : contenu_aelf["antienne_2"]) : contenu_franciscain["antienne_2"]["antienne_A"];
  contenu_final["psaume_2"]["reference"] = (contenu_franciscain["psaume_2"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_2"]["reference"]) : contenu_franciscain["psaume_2"]["reference"];
  contenu_final["psaume_2"]["texte"] = (contenu_franciscain["psaume_2"]["texte"] == "") ? contenu_aelf["psaume_2"]["texte"] : contenu_franciscain["psaume_2"]["texte"];

  contenu_final["antienne_3"]["additionel"] = contenu_franciscain["antienne_3"]["additionel"];
  contenu_final["antienne_3"]["antienne_B"] = contenu_franciscain["antienne_3"]["antienne_B"];
  contenu_final["antienne_3"]["antienne_A"] = (contenu_franciscain["antienne_3"]["antienne_A"] == "") ? (contenu_aelf["antienne_3"] == undefined ? "" : contenu_aelf["antienne_3"]) : contenu_franciscain["antienne_3"]["antienne_A"];
  contenu_final["psaume_3"]["reference"] = (contenu_franciscain["psaume_3"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_3"]["reference"]) : contenu_franciscain["psaume_3"]["reference"];
  contenu_final["psaume_3"]["texte"] = (contenu_franciscain["psaume_3"]["texte"] == "") ? contenu_aelf["psaume_3"]["texte"] : contenu_franciscain["psaume_3"]["texte"];

  contenu_final["pericope"]["reference"] = (contenu_franciscain["pericope"]["reference"] == "") ? contenu_aelf["pericope"]["reference"] : contenu_franciscain["pericope"]["reference"];
  contenu_final["pericope"]["texte"] = (contenu_franciscain["pericope"]["texte"] == "") ? contenu_aelf["pericope"]["texte"] : contenu_franciscain["pericope"]["texte"];

  contenu_final["repons"] = (contenu_franciscain["repons"] == "") ? contenu_aelf["repons"] : contenu_franciscain["repons"];

  contenu_final["antienne_marie"]["antienne_A"] = (contenu_franciscain["antienne_marie"]["antienne_A"] == "") ? contenu_aelf["antienne_magnificat"] : contenu_franciscain["antienne_marie"]["antienne_A"];
  contenu_final["antienne_marie"]["antienne_B"] = contenu_franciscain["antienne_marie"]["antienne_B"];

  contenu_final["intercession"] = (contenu_franciscain["intercession"] == "") ? contenu_aelf["intercession"] : contenu_franciscain["intercession"];

  contenu_final["oraison"] = (contenu_franciscain["oraison"] == "") ? contenu_aelf["oraison"] : contenu_franciscain["oraison"];

  //contenu_final["benediction"] = (contenu_franciscain["benediction"] == "") ? (contenu_aelf["benediction"] == undefined ? "" : contenu_aelf["benediction"]) : contenu_franciscain["benediction"];

  return contenu_final;
}

function combine_petite_heure(contenu_aelf, contenu_franciscain=null){
  var contenu_final = JSON.parse(JSON.stringify(petite_heures_base));
  if (contenu_franciscain == null){
    contenu_franciscain = JSON.parse(JSON.stringify(petite_heures_base));
  }
  //contenu_final["hymne"]["titre"] = (contenu_franciscain["hymne"]["titre"] == "") ? contenu_aelf["hymne"]["titre"] : contenu_franciscain["hymne"]["titre"];
  //contenu_final["hymne"]["texte"] = (contenu_franciscain["hymne"]["texte"] == "") ? contenu_aelf["hymne"]["texte"] : contenu_franciscain["hymne"]["texte"];

  contenu_final["hymne"]["titre"] = contenu_aelf["hymne"]["titre"];
  contenu_final["hymne"]["texte"] = contenu_aelf["hymne"]["texte"];

  contenu_final["antienne_1"]["additionel"] = contenu_franciscain["antienne_1"]["additionel"];
  contenu_final["antienne_1"]["antienne_B"] = contenu_franciscain["antienne_1"]["antienne_B"];
  contenu_final["antienne_1"]["antienne_A"] = (contenu_franciscain["antienne_1"]["antienne_A"] == "") ? (contenu_aelf["antienne_1"] == undefined ? "" : contenu_aelf["antienne_1"]) : contenu_franciscain["antienne_1"]["antienne_A"];
  contenu_final["psaume_1"]["reference"] = (contenu_franciscain["psaume_1"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_1"]["reference"]) : contenu_franciscain["psaume_1"]["reference"];
  contenu_final["psaume_1"]["texte"] = (contenu_franciscain["psaume_1"]["texte"] == "") ? contenu_aelf["psaume_1"]["texte"] : contenu_franciscain["psaume_1"]["texte"];

  contenu_final["antienne_2"]["additionel"] = contenu_franciscain["antienne_2"]["additionel"];
  contenu_final["antienne_2"]["antienne_B"] = contenu_franciscain["antienne_2"]["antienne_B"];
  contenu_final["antienne_2"]["antienne_A"] = (contenu_franciscain["antienne_2"]["antienne_A"] == "") ? (contenu_aelf["antienne_2"] == undefined ? "" : contenu_aelf["antienne_2"]) : contenu_franciscain["antienne_2"]["antienne_A"];
  contenu_final["psaume_2"]["reference"] = (contenu_franciscain["psaume_2"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_2"]["reference"]) : contenu_franciscain["psaume_2"]["reference"];
  contenu_final["psaume_2"]["texte"] = (contenu_franciscain["psaume_2"]["texte"] == "") ? contenu_aelf["psaume_2"]["texte"] : contenu_franciscain["psaume_2"]["texte"];

  contenu_final["antienne_3"]["additionel"] = contenu_franciscain["antienne_3"]["additionel"];
  contenu_final["antienne_3"]["antienne_B"] = contenu_franciscain["antienne_3"]["antienne_B"];
  contenu_final["antienne_3"]["antienne_A"] = (contenu_franciscain["antienne_3"]["antienne_A"] == "") ? (contenu_aelf["antienne_3"] == undefined ? "" : contenu_aelf["antienne_3"]) : contenu_franciscain["antienne_3"]["antienne_A"];
  contenu_final["psaume_3"]["reference"] = (contenu_franciscain["psaume_3"]["reference"] == "") ? titre_psaume(contenu_aelf["psaume_3"]["reference"]) : contenu_franciscain["psaume_3"]["reference"];
  contenu_final["psaume_3"]["texte"] = (contenu_franciscain["psaume_3"]["texte"] == "") ? contenu_aelf["psaume_3"]["texte"] : contenu_franciscain["psaume_3"]["texte"];

  contenu_final["pericope"]["reference"] = (contenu_franciscain["pericope"]["reference"] == "") ? contenu_aelf["pericope"]["reference"] : contenu_franciscain["pericope"]["reference"];
  contenu_final["pericope"]["texte"] = (contenu_franciscain["pericope"]["texte"] == "") ? contenu_aelf["pericope"]["texte"] : contenu_franciscain["pericope"]["texte"];

  contenu_final["repons"] = (contenu_franciscain["repons"] == "") ? contenu_aelf["repons"] : contenu_franciscain["repons"];

  contenu_final["oraison"] = (contenu_franciscain["oraison"] == "") ? contenu_aelf["oraison"] : contenu_franciscain["oraison"];

  //contenu_final["benediction"] = (contenu_franciscain["benediction"] == "") ? (contenu_aelf["benediction"] == undefined ? "" : contenu_aelf["benediction"]) : contenu_franciscain["benediction"];

  return contenu_final;
}

function create_lectures_html(contenu, infos, date_obj, hymne, selection, hymne_selected){
  //console.log(contenu['lecture_patristique']['texte']);


  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Office des Lectures du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var sommaire = '<div class="office_sommaire" id="office_sommaire"><ul>';

  if (infos["franciscain"]) {
    sommaire = sommaire.concat("<li><a id='sommaire_bibliographie' href='#biographie'>Biographie</a></li>");
  }

  var texte_final = '<div class="office_text" id="office_text">';
  texte_final = texte_final.concat('<div class="text_part" id="introduction">'+ contenu["introduction"] + "</div>");
  sommaire = sommaire.concat("<li><a href='#introduction'>Introduction</a></li>");


  if (hymne) {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne: " + contenu["hymne"]["titre"] + " </h2>");
    texte_final = texte_final.concat(contenu["hymne"]["texte"] + "</div>");
  } else {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne:</h2><div>" + selection + "</div>");
    texte_final = texte_final.concat(hymne_from_titre(hymne_selected) + "</div>");
  }
  sommaire = sommaire.concat("<li><a href='#hymne'>Hymne</a></li>");

  var psaumes_content = create_psaumes_html(contenu);
  texte_final = texte_final.concat(psaumes_content.texte);
  sommaire = sommaire.concat(psaumes_content.sommaire);

  texte_final = texte_final.concat("<div class='text_part' id='verset'><h2>Verset</h2>");
  texte_final = texte_final.concat(contenu['verset_psaume'] + "</div>");
  sommaire = sommaire.concat("<li><a href='#verset'>Verset</a></li>");

  texte_final = texte_final.concat("<div class='text_part' id='lecture_biblique'><h2>" + contenu['lecture_biblique']['titre'] + " (" + contenu['lecture_biblique']['reference'] + ")</h2>");
  if (contenu['lecture_biblique']['texte'].includes("verse_number")) {
    texte_final = texte_final.concat(contenu['lecture_biblique']['texte']);
  } else {
    texte_final = texte_final.concat(contenu['lecture_biblique']['texte'].replaceAll(/\b(0|[1-9][0-9]?|1[0-9]{2}|200)\b/g, "<span class=\"verse_number\">\$1</span>"));
  }

  sommaire = sommaire.concat("<li><a href='#lecture_biblique'>Lecture</a></li>");

  texte_final = texte_final.concat("<h2>Répons: </h2>");
  texte_final = texte_final.concat(contenu['repons_bible'] + "</div>");

  texte_final = texte_final.concat("<div class='text_part' id='lecture_patristique'><h2>" + contenu['lecture_patristique']['titre'] + "</h2>");
  if (contenu['lecture_patristique']['sous_titre'] != "") {
    texte_final = texte_final.concat("<h3>" + contenu['lecture_patristique']['sous_titre'] + "</h3>");
  }
  sommaire = sommaire.concat("<li><a href='#lecture_patristique'>Lecture patristique</a></li>");
  texte_final = texte_final.concat(contenu['lecture_patristique']['texte']);

  texte_final = texte_final.concat("<h2>Répons: </h2>");
  texte_final = texte_final.concat(contenu['repons_patristique'] + "</div>");


  if (contenu["te_deum"]["display"]) {
    texte_final = texte_final.concat("<div class='text_part' id='te_deum'><h2> " + contenu["te_deum"]['titre'] + "</h2>");
    texte_final = texte_final.concat(contenu["te_deum"]['texte'] + "</div>");
    sommaire = sommaire.concat("<li><a href='#te_deum'>Te Deum</a></li>");
  }

  texte_final = texte_final.concat("<div class='text_part' id='oraison'><h2>Oraison: </h2>");
  texte_final = texte_final.concat(contenu['oraison'] + "</div><br/>");
  sommaire = sommaire.concat("<li><a href='#oraison'>Conclusion</a></li>");
  sommaire = sommaire.concat("</ul></div>");


  texte_final = texte_final.concat('</div>');

  texte_final = add_symbol_span(texte_final);

  return {texte: texte_final, titre: titre, sommaire: sommaire, couleur: infos['couleur']};
}

function create_laudes_html(contenu, infos, date_obj, hymne, invitatoire, selection, hymne_selected){
  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Laudes du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var sommaire = '<div class="office_sommaire" id="office_sommaire"><ul>';

  if (infos["franciscain"]) {
    sommaire = sommaire.concat("<li><a id='sommaire_bibliographie' href='#biographie'>Biographie</a></li>");
  }

  var texte_final = '<div class="office_text" id="office_text">';
  texte_final = texte_final.concat('<div class="text_part" id="introduction">'+ contenu["introduction"] + "</div>");
  sommaire = sommaire.concat("<li><a href='#introduction'>Introduction</a></li>");

  if (contenu["antienne_invitatoire"]["antienne_B"] != "") {
    texte_final = texte_final.concat('<div class="text_part" id="psaume_invitatoire">' + "<h2>Antienne Invitatoire A</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_invitatoire"]["antienne_A"] + "</i>");
    texte_final = texte_final.concat("<h2>Antienne Invitatoire B</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_invitatoire"]["antienne_B"] + "</i>");
  } else if (contenu["antienne_invitatoire"]["antienne_A"] != "") {
    texte_final = texte_final.concat('<div class="text_part" id="psaume_invitatoire">' + "<h2>Antienne Invitatoire: </h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_invitatoire"]["antienne_A"] + "</i>");
  }
  //just a little bit of logic to allow for psaume invitatoire change
  texte_final = texte_final.concat("<h2><select class='psaume_invitatoire_select' onchange='invitatoire_update(this)' name='Psaume Invitatoire'><option value='23'>Psaume 23</option><option value='66'>Psaume 66</option><option value='94'>Psaume 94</option><option value='99'>Psaume 99</option></select></h2>");
  texte_final = texte_final.concat(psaume_invitatoire_from_reference(invitatoire) + "</div>");
  sommaire = sommaire.concat("<li><a href='#psaume_invitatoire'>Psaume " + invitatoire + "</a></li>");

  if (hymne) {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne: " + contenu["hymne"]["titre"] + " </h2>");
    texte_final = texte_final.concat(contenu["hymne"]["texte"] + "</div>");
  } else {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne:</h2><div>" + selection + "</div>");
    texte_final = texte_final.concat(hymne_from_titre(hymne_selected) + "</div>");
  }
  sommaire = sommaire.concat("<li><a href='#hymne'>Hymne</a></li>");

  var psaumes_content = create_psaumes_html(contenu);
  texte_final = texte_final.concat(psaumes_content.texte);
  sommaire = sommaire.concat(psaumes_content.sommaire);

  texte_final = texte_final.concat("<div class='text_part' id='pericope'><h2>Parole de Dieu (" + contenu['pericope']['reference'] + ")</h2>");
  texte_final = texte_final.concat(contenu['pericope']['texte']);

  texte_final = texte_final.concat("<h2>Répons: </h2>");
  texte_final = texte_final.concat(contenu['repons']+ "</div>");
  sommaire = sommaire.concat("<li><a href='#pericope'>Péricope</a></li>");


  if (contenu["antienne_zacharie"]["antienne_B"] != "") {
    texte_final = texte_final.concat("<div class='text_part' id='cantique_zacharie'><h2>Antienne A</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_zacharie"]["antienne_A"] + "</i>");
    texte_final = texte_final.concat("<h2>Antienne B</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_zacharie"]["antienne_B"] + "</i>");
  } else if (contenu["antienne_zacharie"]["antienne_A"] != "") {
    texte_final = texte_final.concat("<div class='text_part' id='cantique_zacharie'><h2>Antienne: </h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_zacharie"]["antienne_A"] + "</i>");
  }

  texte_final = texte_final.concat("<h2> " + contenu["cantique_zacharie"]['titre'] + "</h2>");
  texte_final = texte_final.concat(contenu["cantique_zacharie"]['texte'] + "</div>");
  sommaire = sommaire.concat("<li><a href='#cantique_zacharie'>Cantique de Zacharie</a></li>");

  texte_final = texte_final.concat("<div class='text_part' id='intercession'><h2>Intercession: </h2>");
  texte_final = texte_final.concat(contenu['intercession']);
  sommaire = sommaire.concat("<li><a href='#intercession'>Intercession</a></li>");


  texte_final = texte_final.concat("<h2>Notre Père </h2>" + "</div>");

  texte_final = texte_final.concat("<div class='text_part' id='oraison'><h2>Oraison: </h2>");
  texte_final = texte_final.concat(contenu['oraison'] + "</div><br/>");
  sommaire = sommaire.concat("<li><a href='#oraison'>Conclusion</a></li>");
  sommaire = sommaire.concat("</ul></div>");

  texte_final = texte_final.concat('</div>');

  texte_final = add_symbol_span(texte_final);

  return {texte: texte_final, titre: titre, sommaire: sommaire, couleur: infos['couleur']};
}

function create_vepres_html(contenu, infos, date_obj, hymne, selection, hymne_selected){

  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Vêpres du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var sommaire = '<div class="office_sommaire" id="office_sommaire"><ul>';

  if (infos["franciscain"]) {
    sommaire = sommaire.concat("<li><a id='sommaire_bibliographie' href='#biographie'>Biographie</a></li>");
  }

  var texte_final = '<div class="office_text" id="office_text">';
  texte_final = texte_final.concat('<div class="text_part" id="introduction">'+ contenu["introduction"] + "</div>");
  sommaire = sommaire.concat("<li><a href='#introduction'>Introduction</a></li>");

  if (hymne) {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne: " + contenu["hymne"]["titre"] + " </h2>");
    texte_final = texte_final.concat(contenu["hymne"]["texte"] + "</div>");
  } else {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne:</h2><div>" + selection + "</div>");
    texte_final = texte_final.concat(hymne_from_titre(hymne_selected) + "</div>");
  }
  sommaire = sommaire.concat("<li><a href='#hymne'>Hymne</a></li>");

  var psaumes_content = create_psaumes_html(contenu);
  texte_final = texte_final.concat(psaumes_content.texte);
  sommaire = sommaire.concat(psaumes_content.sommaire);

  texte_final = texte_final.concat("<div class='text_part' id='pericope'><h2>Parole de Dieu (" + contenu['pericope']['reference'] + ")</h2>");
  texte_final = texte_final.concat(contenu['pericope']['texte']);

  texte_final = texte_final.concat("<h2>Répons: </h2>");
  texte_final = texte_final.concat(contenu['repons']+ "</div>");
  sommaire = sommaire.concat("<li><a href='#pericope'>Péricope</a></li>");


  if (contenu["antienne_marie"]["antienne_B"] != "") {
    texte_final = texte_final.concat("<div class='text_part' id='cantique_marie'><h2>Antienne A</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_marie"]["antienne_A"] + "</i>");
    texte_final = texte_final.concat("<h2>Antienne B</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_marie"]["antienne_B"] + "</i>");
  } else if (contenu["antienne_marie"]["antienne_A"] != "") {
    texte_final = texte_final.concat("<div class='text_part' id='cantique_marie'><h2>Antienne: </h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_marie"]["antienne_A"] + "</i>");
  }

  texte_final = texte_final.concat("<h2> " + contenu["cantique_marie"]['titre'] + "</h2>");
  texte_final = texte_final.concat(contenu["cantique_marie"]['texte'] + "</div>");
  sommaire = sommaire.concat("<li><a href='#cantique_marie'>Cantique de Marie</a></li>");

  texte_final = texte_final.concat("<div class='text_part' id='intercession'><h2>Intercession: </h2>");
  texte_final = texte_final.concat(contenu['intercession']);
  sommaire = sommaire.concat("<li><a href='#intercession'>Intercession</a></li>");


  texte_final = texte_final.concat("<h2>Notre Père </h2>" + "</div>");

  texte_final = texte_final.concat("<div class='text_part' id='oraison'><h2>Oraison: </h2>");
  texte_final = texte_final.concat(contenu['oraison'] + "</div><br/>");
  sommaire = sommaire.concat("<li><a href='#oraison'>Conclusion</a></li>");
  sommaire = sommaire.concat("</ul></div>");

  texte_final = texte_final.concat('</div>');

  texte_final = add_symbol_span(texte_final);

  return {texte: texte_final, titre: titre, sommaire: sommaire, couleur: infos['couleur']};
}

function create_tierce_html(contenu, infos, date_obj, hymne){

  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Office de Tierce du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var retValue = create_petite_heure_html(contenu, infos, date_obj, hymne);
  retValue.titre = titre;

  return retValue;
}

function create_sexte_html(contenu, infos, date_obj, hymne){

  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Office de Sexte du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var retValue = create_petite_heure_html(contenu, infos, date_obj, hymne);
  retValue.titre = titre;

  return retValue;
}

function create_none_html(contenu, infos, date_obj, hymne){

  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Office de None du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var retValue = create_petite_heure_html(contenu, infos, date_obj, hymne);
  retValue.titre = titre;

  return retValue;
}

function create_petite_heure_html(contenu, infos, date_obj, hymne){

  var titre = "";

  var sommaire = '<div class="office_sommaire" id="office_sommaire"><ul>';

  if (infos["franciscain"]) {
    sommaire = sommaire.concat("<li><a id='sommaire_bibliographie' href='#biographie'>Biographie</a></li>");
  }

  var texte_final = '<div class="office_text" id="office_text">';
  texte_final = texte_final.concat('<div class="text_part" id="introduction">'+ contenu["introduction"] + "</div>");
  sommaire = sommaire.concat("<li><a href='#introduction'>Introduction</a></li>");

  if (hymne) {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne: " + contenu["hymne"]["titre"] + " </h2>");
    texte_final = texte_final.concat(contenu["hymne"]["texte"] + "</div>");

  } else {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne</h2></div>");
  }
  sommaire = sommaire.concat("<li><a href='#hymne'>Hymne</a></li>");

  var psaumes_content = create_psaumes_html(contenu);
  texte_final = texte_final.concat(psaumes_content.texte);
  sommaire = sommaire.concat(psaumes_content.sommaire);

  texte_final = texte_final.concat("<div class='text_part' id='pericope'><h2>Parole de Dieu (" + contenu['pericope']['reference'] + ")</h2>");
  texte_final = texte_final.concat(contenu['pericope']['texte']);

  texte_final = texte_final.concat("<h2>Répons: </h2>");
  texte_final = texte_final.concat(contenu['repons']+ "</div>");
  sommaire = sommaire.concat("<li><a href='#pericope'>Péricope</a></li>");


  texte_final = texte_final.concat("<div class='text_part' id='oraison'><h2>Oraison: </h2>");
  texte_final = texte_final.concat(contenu['oraison'] + "</div><br/>");
  sommaire = sommaire.concat("<li><a href='#oraison'>Conclusion</a></li>");
  sommaire = sommaire.concat("</ul></div>");

  texte_final = texte_final.concat('</div>');

  texte_final = add_symbol_span(texte_final);

  return {texte: texte_final, titre: titre, sommaire: sommaire, couleur: infos['couleur']};
}


function create_complies_html(contenu, infos, date_obj, hymne){

  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Complies du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var sommaire = '<div class="office_sommaire" id="office_sommaire"><ul>';

  if (infos["franciscain"]) {
    sommaire = sommaire.concat("<li><a class='sommaire_bibliographie' href='#biographie'>Biographie</a></li>");
  }

  var texte_final = '<div class="office_text" id="office_text">';
  texte_final = texte_final.concat('<div class="text_part" id="introduction"><i><p>Nous t’adorons, très saint Seigneur Jésus-Christ, ici et dans toutes les Églises du monde entier, et nous te bénissons d’avoir racheté le monde par ta sainte Croix</p></i><br/> \n'+ contenu["introduction"] + "</div>");
  sommaire = sommaire.concat("<li><a href='#introduction'>Introduction</a></li>");

  if (hymne) {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne: " + contenu["hymne"]["titre"] + " </h2>");
    texte_final = texte_final.concat(contenu["hymne"]["texte"] + "</div>");

  } else {
    texte_final = texte_final.concat("<div class='text_part' id='hymne'><h2>Hymne</h2></div>");
  }
  sommaire = sommaire.concat("<li><a href='#hymne'>Hymne</a></li>");



  texte_final = texte_final.concat("<div class='text_part' id='psaume_1'><h2>Antienne: </h2>");
  texte_final = texte_final.concat("<i>" + contenu["antienne_1"] + "</i>");

  texte_final = texte_final.concat("<h2> " + titre_psaume(contenu["psaume_1"]['reference']) + "</h2>");
  texte_final = texte_final.concat(contenu["psaume_1"]['texte'] + "</div>");
  sommaire = sommaire.concat("<li><a href='#psaume_1'>" + titre_psaume(contenu["psaume_1"]['reference']) + "</a></li>");


  if (contenu["psaume_2"].length != 0) {

    if (contenu["antienne_2"] != "") {
      texte_final = texte_final.concat("<div class='text_part' id='psaume_2'><h2>Antienne: </h2>");
      texte_final = texte_final.concat("<i>" + contenu["antienne_2"] + "</i>");
    }

    texte_final = texte_final.concat("<h2> " + titre_psaume(contenu["psaume_2"]['reference']) + "</h2>");
    texte_final = texte_final.concat(contenu["psaume_2"]['texte'] + "</div>");
    sommaire = sommaire.concat("<li><a href='#psaume_2'>" + titre_psaume(contenu["psaume_2"]['reference']) + "</a></li>");
  }




  texte_final = texte_final.concat("<div class='text_part' id='pericope'><h2>Parole de Dieu (" + contenu['pericope']['reference'] + ")</h2>");
  texte_final = texte_final.concat(contenu['pericope']['texte']);

  texte_final = texte_final.concat("<h2>Répons: </h2>");
  texte_final = texte_final.concat(contenu['repons']+ "</div>");
  sommaire = sommaire.concat("<li><a href='#pericope'>Péricope</a></li>");

  texte_final = texte_final.concat("<div class='text_part' id='cantique_symeon'><h2>Antienne: </h2>");
  texte_final = texte_final.concat("<i>" + contenu["antienne_symeon"] + "</i>");

  texte_final = texte_final.concat("<h2> " + contenu["cantique_symeon"]['titre'] + "</h2>");
  texte_final = texte_final.concat(contenu["cantique_symeon"]['texte'] + "</div>");
  sommaire = sommaire.concat("<li><a href='#cantique_symeon'>Cantique de Syméon</a></li>");


  texte_final = texte_final.concat("<div class='text_part' id='oraison'><h2>Oraison: </h2>");
  texte_final = texte_final.concat(contenu['oraison']);
  texte_final = texte_final.concat("<h2>Benediction: </h2>");
  texte_final = texte_final.concat(contenu['benediction'] + "</div>");
  sommaire = sommaire.concat("<li><a href='#oraison'>Oraison</a></li>");

  texte_final = texte_final.concat("<div class='text_part' id='hymne_mariale'><h2>Hymne mariale: " + contenu["hymne_mariale"]["titre"] + " </h2>");
  texte_final = texte_final.concat(contenu["hymne_mariale"]["texte"] + "</div><br/>");
  sommaire = sommaire.concat("<li><a href='#hymne_mariale'>" + contenu["hymne_mariale"]["titre"] + "</a></li>");

  sommaire = sommaire.concat("</ul></div>");
  texte_final = add_symbol_span(texte_final);

  return {texte: texte_final, titre: titre, sommaire: sommaire, couleur: infos['couleur']};
}

function create_psaumes_html(contenu){
  var texte_final = ""
  var sommaire = "";

  texte_final = texte_final.concat("<div class='text_part' id='psaume_1'>");
  sommaire = sommaire.concat("<li><a href='#psaume_1'>" + contenu["psaume_1"]['reference'] + "</a></li>");

  if (contenu["antienne_1"]["additionel"] != "") {
    texte_final = texte_final.concat("<i class=\"contenu_additionnel\">" + contenu["antienne_1"]["additionel"] + "</i>");
  }
  if (contenu["antienne_1"]["antienne_B"] != "") {
    texte_final = texte_final.concat("<h2>Antienne A</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_1"]["antienne_A"] + "</i>");
    texte_final = texte_final.concat("<h2>Antienne B</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_1"]["antienne_B"] + "</i>");
  } else if (contenu["antienne_1"]["antienne_A"] != "") {
    texte_final = texte_final.concat("<h2>Antienne: </h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_1"]["antienne_A"] + "</i>");
  }

  texte_final = texte_final.concat("<h2> " + contenu["psaume_1"]['reference'] + "</h2>");
  texte_final = texte_final.concat(contenu["psaume_1"]['texte']);

  texte_final = texte_final.concat("</div><div class='text_part' id='psaume_2'>");
  sommaire = sommaire.concat("<li><a href='#psaume_2'>" + contenu["psaume_2"]['reference'] + "</a></li>");



  if (contenu["antienne_2"]["additionel"] != "") {
    texte_final = texte_final.concat("<i class=\"contenu_additionnel\">" + contenu["antienne_2"]["additionel"] + "</i>");
  }
  if (contenu["antienne_2"]["antienne_B"] != "") {
    texte_final = texte_final.concat("<h2>Antienne A</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_2"]["antienne_A"] + "</i>");
    texte_final = texte_final.concat("<h2>Antienne B</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_2"]["antienne_B"] + "</i>");
  } else if (contenu["antienne_2"]["antienne_A"] != "") {
    texte_final = texte_final.concat("<h2>Antienne: </h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_2"]["antienne_A"] + "</i>");
  }

  texte_final = texte_final.concat("<h2> " + contenu["psaume_2"]['reference'] + "</h2>");
  texte_final = texte_final.concat(contenu["psaume_2"]['texte']);


  texte_final = texte_final.concat("</div><div class='text_part' id='psaume_3'>");
  sommaire = sommaire.concat("<li><a href='#psaume_3'>" + contenu["psaume_3"]['reference'] + "</a></li>");


  if (contenu["antienne_3"]["additionel"] != "") {
    texte_final = texte_final.concat("<i class=\"contenu_additionnel\">" + contenu["antienne_3"]["additionel"] + "</i>");
  }
  if (contenu["antienne_3"]["antienne_B"] != "") {
    texte_final = texte_final.concat("<h2>Antienne A</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_3"]["antienne_A"] + "</i>");
    texte_final = texte_final.concat("<h2>Antienne B</h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_3"]["antienne_B"] + "</i>");
  } else if (contenu["antienne_3"]["antienne_A"] != "") {
    texte_final = texte_final.concat("<h2>Antienne: </h2>");
    texte_final = texte_final.concat("<i>" + contenu["antienne_3"]["antienne_A"] + "</i>");
  }

  texte_final = texte_final.concat("<h2> " + contenu["psaume_3"]['reference'] + "</h2>");
  texte_final = texte_final.concat(contenu["psaume_3"]['texte']);

  texte_final = texte_final.concat("</div>");

  return {texte: texte_final, sommaire: sommaire};
}

function create_messe_html(contenu, infos, date_obj){

  var titre = '<div class="office_titre" id="office_titre">';
  titre = titre.concat("<h1>Messe du " + date_obj.getDate() + " " + tab_mois[date_obj.getMonth()] + "</h1>")
  titre = titre.concat(infos['ligne1'] + "</div>")

  var sommaire = '<div class="office_sommaire" id="office_sommaire"><ul>';

  var texte_final = '<div class="office_text" id="office_text">';

  var cardinaux = {1: "Première", 2: "Deuxième", 3: "Troisième", 4: "Quatrième", 5: "Cinquième", 6: "Sixième", 7: "Septième"}

  var id = 1;

  for (const iterator of contenu["lectures"]) {
    if (iterator["type"].startsWith('lecture')) {
      var titre_loc = cardinaux[iterator["type"].split("_")[1]] + " Lecture";

      texte_final = texte_final.concat("<div class='text_part' id='lecture" + id + "'><h2>" + titre_loc + "</h2>");
      texte_final = texte_final.concat("<h3>" + (iterator["titre"] != null ? iterator["titre"] : "") + "  (" + iterator["ref"] +  ")</h3>");
      texte_final = texte_final.concat("<i>" + iterator["intro_lue"] + "</i>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div>");
      sommaire = sommaire.concat("<li><a href='#lecture" + id + "'>" + titre_loc + "</a></li>");

    } else if (iterator["type"].startsWith('epitre')) {

      texte_final = texte_final.concat("<div class='text_part' id='lecture" + id + "'><h2>Épitre</h2>");
      texte_final = texte_final.concat("<h3>" + (iterator["titre"] != null ? iterator["titre"] : "") + "  (" + iterator["ref"] +  ")</h3>");
      texte_final = texte_final.concat("<i>" + iterator["intro_lue"] + "</i>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div>");
      sommaire = sommaire.concat("<li><a href='#lecture" + id + "'>Épitre</a></li>");

    } else if (iterator["type"].startsWith('psaume')) {
      texte_final = texte_final.concat("<div class='text_part' id='psaume" + id + "'><div style='margin-top:50px;'></div><h2 style='display:inline-block; margin-top:0px'>Psaume </h2><h3 style='display:inline-block; margin-top:0px'>\&nbsp(" + iterator["ref"] +  ")</h3>");

      texte_final = texte_final.concat("<b>" + iterator["refrain_psalmique"] + "</b>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div>");
      sommaire = sommaire.concat("<li><a href='#psaume" + id + "'>Psaume</a></li>");
    } else if (iterator["type"].startsWith('cantique')) {
      texte_final = texte_final.concat("<div class='text_part' id='psaume" + id + "'><div style='margin-top:50px;'></div><h2 style='display:inline-block; margin-top:0px'>Cantique </h2><h3 style='display:inline-block; margin-top:0px'>\&nbsp(" + iterator["ref"] +  ")</h3>");
      texte_final = texte_final.concat("<b>" + iterator["refrain_psalmique"] + "</b>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div>");
      sommaire = sommaire.concat("<li><a href='#cantique" + id + "'>Cantique</a></li>");
    } else if (iterator["type"].startsWith('sequence')) {
      texte_final = texte_final.concat("<div class='text_part' id='sequence" + id + "'><h2>Séquence</h2>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div>");
      sommaire = sommaire.concat("<li><a href='#sequence" + id + "'>Séquence</a></li>");
    } else if (iterator["type"].startsWith('entree_messianique')) {
      texte_final = texte_final.concat("<div class='text_part' id='entree_messianique" + id + "'><h2>Entrée Messianique</h2>");
      texte_final = texte_final.concat("<h3>" + (iterator["titre"] != null ? iterator["titre"] : "") + "  (" + iterator["ref"] +  ")</h3>");

      texte_final = texte_final.concat("<i>" + iterator["intro_lue"] + "</i>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div><br/>");
      sommaire = sommaire.concat("<li><a href='#entree_messianique" + id + "'>Entrée Messianique</a></li>");
    } else if (iterator["type"].startsWith('evangile')) {

      texte_final = texte_final.concat("<div class='text_part' id='evangile" + id + "'><h2>Évangile</h2>");
      texte_final = texte_final.concat("<h3>" + (iterator["titre"] != null ? iterator["titre"] : "") + "  (" + iterator["ref"] +  ")</h3>");

      texte_final = texte_final.concat(iterator["verset_evangile"] != null ? "<p>" + iterator["verset_evangile"] + "</p>" : "");

      texte_final = texte_final.concat("<i>" + iterator["intro_lue"] + "</i>");

      texte_final = texte_final.concat(iterator["contenu"] + "</div><br/>");
      sommaire = sommaire.concat("<li><a href='#evangile" + id + "'>Évangile</a></li>");
    }
    id++;
  }

  sommaire = sommaire.concat("</ul></div>");
  //console.log(texte_final);
  //texte_final = add_symbol_span(texte_final);

  return {texte: texte_final, titre: titre, sommaire: sommaire, couleur: infos['couleur']};
}


function add_symbol_span(texte){
  /*Replace some " " with to nbsp to avoid too small line returns*/
  texte = texte.replaceAll(" *", "&nbsp*");
  texte = texte.replaceAll(" :", "&nbsp:");
  texte = texte.replaceAll(" +", "&nbsp+");
  texte = texte.replaceAll(" ;", "&nbsp;");


  texte = texte.replaceAll("*", '<span class="liturgical_symbol">*</span>');
  texte = texte.replaceAll("+", '<span class="liturgical_symbol">+</span>');
  texte = texte.replaceAll("R/", '<span class="liturgical_symbol">R/</span>');
  texte = texte.replaceAll("V/", '<span class="liturgical_symbol">V/</span>');


  return texte;
}

function toTitleCase(str) {
  return str.replace(
    /\w\S*/g,
    function(txt) {
      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
    }
  );
}


function titre_psaume(aelf_reference){
  if (isNaN(parseInt(aelf_reference, 10))) {
      aelf_reference = aelf_reference.replaceAll("CANTIQUE", "Cantique")
      return aelf_reference;
  }else {
    return "Psaume " + aelf_reference;
  }

}


var vepres_aelf = {"introduction":"\u003Cp\u003EV\/ Dieu, viens \u00e0 mon aide,\n        \u003Cbr \/\u003ER\/ Seigneur, \u00e0 notre secours.\u003C\/p\u003E\n        \u003Cp\u003EGloire au P\u00e8re, et au Fils et au Saint-Esprit,\n        \u003Cbr\/\u003Eau Dieu qui est, qui \u00e9tait et qui vient,\n        \u003Cbr\/\u003Epour les si\u00e8cles des si\u00e8cles.\n        \u003Cbr\/\u003EAmen. (All\u00e9luia.)\u003C\/p\u003E","hymne":{"auteur":"CFC","editeur":"CNPL","titre":"Pleine de gr\u00e2ce, r\u00e9jouis-toi\u00a0!","texte":"Pleine de gr\u00e2ce, r\u00e9jouis-toi\u00a0!\u003Cbr\u003EL\u2019Emmanuel a trouv\u00e9 place\u003Cbr\u003EDans ta demeure illumin\u00e9e.\u003Cbr\u003EPar toi, la gloire a rayonn\u00e9\u003Cbr\u003EPour le salut de notre race. \u003Cbr\u003E\u003Cbr\u003EArche d\u2019alliance, r\u00e9jouis-toi\u00a0!\u003Cbr\u003ESur toi repose la pr\u00e9sence\u003Cbr\u003EDu Dieu cach\u00e9 dans la nu\u00e9e.\u003Cbr\u003EPar toi, la route est \u00e9clair\u00e9e\u003Cbr\u003EDans le d\u00e9sert o\u00f9 l\u2019homme avance. \u003Cbr\u003E\u003Cbr\u003EVierge fid\u00e8le, r\u00e9jouis-toi\u00a0!\u003Cbr\u003EDans la t\u00e9n\u00e8bre o\u00f9 Dieu t\u2019appelle,\u003Cbr\u003ETu fais briller si haut ta foi\u003Cbr\u003EQue tu refl\u00e8tes sur nos croix\u003Cbr\u003ELa paix du Christ et sa lumi\u00e8re. \u003Cbr\u003E\u003Cbr\u003EReine des anges, r\u00e9jouis-toi\u00a0!\u003Cbr\u003ED\u00e9j\u00e0 l\u2019\u00c9glise en toi contemple\u003Cbr\u003ELa cr\u00e9ation transfigur\u00e9e\u003Cbr\u003EFais-nous la joie de partager\u003Cbr\u003EL\u2019exultation de ta louange.\u003Cbr\u003E"},"antienne_1":"\u003Cp\u003ELa Vierge Marie est \u00e9lev\u00e9e au ciel ; tous les anges b\u00e9nissent le Seigneur.\u003C\/p\u003E","psaume_1":{"reference":"121","texte":"\u003Cp\u003E\u003Cspan class=\u0022verse_number\u0022\u003E1\u003C\/span\u003E Quelle j\u003Cu\u003Eo\u003C\/u\u003Eie quand on m\u2019a dit\u00a0:\u003Cbr \/\u003E\n\u00ab\u00a0Nous irons \u00e0 la mais\u003Cu\u003Eo\u003C\/u\u003En du Seigneur\u00a0!\u00a0\u00bb\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E2\u003C\/span\u003E Maintenant notre m\u003Cu\u003Ea\u003C\/u\u003Erche prend fin\u003Cbr \/\u003E\ndevant tes p\u003Cu\u003Eo\u003C\/u\u003Ertes, J\u00e9rusalem\u00a0!\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E3\u003C\/span\u003E J\u00e9rusalem, te voic\u003Cu\u003Ei\u003C\/u\u003E dans tes murs\u00a0:\u003Cbr \/\u003E\nville o\u00f9 tout ens\u003Cu\u003Ee\u003C\/u\u003Emble ne fait qu\u2019un\u00a0!\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E4\u003C\/span\u003E C\u2019est l\u00e0 que montent les tribus,\u003Cbr \/\u003E\n\u00a0\u00a0 les trib\u003Cu\u003Eu\u003C\/u\u003Es du Seigneur, *\u003Cbr \/\u003E\nl\u00e0 qu\u2019Isra\u00ebl doit rendre gr\u00e2ce\u003Cbr \/\u003E\n\u00a0\u00a0 au n\u003Cu\u003Eo\u003C\/u\u003Em du Seigneur.\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E5\u003C\/span\u003E C\u2019est l\u00e0 le si\u003Cu\u003E\u00e8\u003C\/u\u003Ege du droit, *\u003Cbr \/\u003E\nle si\u00e8ge de la mais\u003Cu\u003Eo\u003C\/u\u003En de David.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E6\u003C\/span\u003E Appelez le bonhe\u003Cu\u003Eu\u003C\/u\u003Er sur J\u00e9rusalem\u00a0:\u003Cbr \/\u003E\n\u00ab\u00a0P\u003Cu\u003Ea\u003C\/u\u003Eix \u00e0 ceux qui t\u2019aiment\u00a0!\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E7\u003C\/span\u003E Que la paix r\u003Cu\u003E\u00e8\u003C\/u\u003Egne dans tes murs,\u003Cbr \/\u003E\nle bonhe\u003Cu\u003Eu\u003C\/u\u003Er dans tes palais\u00a0!\u00a0\u00bb\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E8\u003C\/span\u003E \u00c0 cause de mes fr\u003Cu\u003E\u00e8\u003C\/u\u003Eres et de mes proches,\u003Cbr \/\u003E\nje dirai\u00a0:\u00a0\u00ab\u00a0P\u003Cu\u003Ea\u003C\/u\u003Eix sur toi\u00a0!\u00a0\u00bb\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E9\u003C\/span\u003E \u00c0 cause de la maison du Seigne\u003Cu\u003Eu\u003C\/u\u003Er notre Dieu,\u003Cbr \/\u003E\nje d\u00e9s\u003Cu\u003Ei\u003C\/u\u003Ere ton bien.\u003C\/p\u003E"},"antienne_2":"\u003Cp\u003EElle resplendit de la gloire de Dieu, elle a l\u0027\u00e9clat d\u0027une pierre pr\u00e9cieuse.\u003C\/p\u003E","psaume_2":{"reference":"126","texte":"\u003Cspan class=\u0022verse_number\u0022\u003E1\u003C\/span\u003E Si le Seigneur ne b\u00e2t\u003Cu\u003Ei\u003C\/u\u003Et la maison,\u003Cbr\u003Eles b\u00e2tisseurs trav\u003Cu\u003Ea\u003C\/u\u003Eillent en vain\u00a0; *\u003Cbr\u003Esi le Seigneur ne g\u003Cu\u003Ea\u003C\/u\u003Erde la ville,\u003Cbr\u003Ec\u2019est en vain que v\u003Cu\u003Ee\u003C\/u\u003Eillent les gardes.\u003Cbr\u003E\u003Cbr\u003E\u003Cspan class=\u0022verse_number\u0022\u003E2\u003C\/span\u003E En vain tu dev\u003Cu\u003Ea\u003C\/u\u003Ences le jour,\u003Cbr\u003Etu retardes le mom\u003Cu\u003Ee\u003C\/u\u003Ent de ton repos, +\u003Cbr\u003Etu manges un p\u003Cu\u003Ea\u003C\/u\u003Ein de douleur\u00a0: *\u003Cbr\u003EDieu comble son bien-aim\u003Cu\u003E\u00e9\u003C\/u\u003E quand il dort.\u003Cbr\u003E\u003Cbr\u003E\u003Cspan class=\u0022verse_number\u0022\u003E3\u003C\/span\u003E Des fils, voil\u00e0 ce que d\u003Cu\u003Eo\u003C\/u\u003Enne le Seigneur,\u003Cbr\u003Edes enfants, la r\u00e9comp\u003Cu\u003Ee\u003C\/u\u003Ense qu\u2019il accorde\u00a0; *\u003Cbr\u003E\u003Cspan class=\u0022verse_number\u0022\u003E4\u003C\/span\u003E comme des fl\u00e8ches aux m\u003Cu\u003Ea\u003C\/u\u003Eins d\u2019un guerrier,\u003Cbr\u003Eainsi les f\u003Cu\u003Ei\u003C\/u\u003Els de la jeunesse.\u003Cbr\u003E\u003Cbr\u003E\u003Cspan class=\u0022verse_number\u0022\u003E5\u003C\/span\u003E Heureux l\u2019h\u003Cu\u003Eo\u003C\/u\u003Emme vaillant\u003Cbr\u003Equi a garni son carqu\u003Cu\u003Eo\u003C\/u\u003Eis de telles armes\u00a0! *\u003Cbr\u003ES\u2019ils affrontent leurs ennem\u003Cu\u003Ei\u003C\/u\u003Es sur la place,\u003Cbr\u003Eils ne seront p\u003Cu\u003Ea\u003C\/u\u003Es humili\u00e9s.\u003Cbr\u003E"},"antienne_3":"\u003Cp\u003ETu es b\u00e9nie du Seigneur, toi qui nous as donn\u00e9 le fruit de la vie.\u003C\/p\u003E","psaume_3":{"reference":"CANTIQUE (Ep 1).","texte":"\u003Cp\u003E\u003Cspan class=\u0022verse_number\u0022\u003E3\u003C\/span\u003E Qu\u0027il soit b\u00e9ni, le Die\u003Cu\u003Eu\u003C\/u\u003E et P\u00e8re\u003Cbr \/\u003E\nde notre Seigneur, J\u00e9s\u003Cu\u003Eu\u003C\/u\u003Es, le Christ !\u003Cbr \/\u003E\u003Cbr \/\u003E\nIl nous a b\u00e9nis et combl\u00e9s\u003Cbr \/\u003E\n\u00a0\u00a0 des b\u00e9n\u00e9dicti\u003Cu\u003Eo\u003C\/u\u003Ens de l\u0027Esprit, *\u003Cbr \/\u003E\nau ci\u003Cu\u003Ee\u003C\/u\u003El, dans le Christ.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E4\u003C\/span\u003E Il nous a choisis, dans le Christ,\u003Cbr \/\u003E\n\u00a0\u00a0 avant que le m\u003Cu\u003Eo\u003C\/u\u003Ende f\u00fbt cr\u00e9\u00e9, *\u003Cbr \/\u003E\npour \u00eatre saints et sans p\u00e9ch\u00e9s devant sa face\u003Cbr \/\u003E\n\u00a0\u00a0 gr\u003Cu\u003E\u00e2\u003C\/u\u003Ece \u00e0 son amour.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E5\u003C\/span\u003E Il nous a pr\u00e9destin\u00e9s\u003Cbr \/\u003E\n\u00a0\u00a0 \u00e0 \u00eatre, pour lui, des f\u003Cu\u003Ei\u003C\/u\u003Els adoptifs *\u003Cbr \/\u003E\npar J\u00e9s\u003Cu\u003Eu\u003C\/u\u003Es, le Christ.\u003Cbr \/\u003E\u003Cbr \/\u003E\nAinsi l\u0027a voulu sa bont\u00e9,\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E6\u003C\/span\u003E\u00a0 \u00e0 la louange de gl\u003Cu\u003Eo\u003C\/u\u003Eire de sa gr\u00e2ce, *\u003Cbr \/\u003E\nla gr\u00e2ce qu\u0027il nous a faite\u003Cbr \/\u003E\n\u00a0\u00a0 dans le F\u003Cu\u003Ei\u003C\/u\u003Els bien-aim\u00e9.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E7\u003C\/span\u003E En lu\u003Cu\u003Ei\u003C\/u\u003E, par son sang, *\u003Cbr \/\u003E\nnous avons le rachat,\u003Cbr \/\u003E\n\u00a0\u00a0 le pard\u003Cu\u003Eo\u003C\/u\u003En des p\u00e9ch\u00e9s.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E8\u003C\/span\u003E C\u0027est la richesse de sa gr\u00e2ce\u003Cbr \/\u003E\n\u00a0\u00a0 dont il d\u00e9b\u003Cu\u003Eo\u003C\/u\u003Erde jusqu\u0027\u00e0 nous *\u003Cbr \/\u003E\nen toute intellig\u003Cu\u003Ee\u003C\/u\u003Ence et sagesse.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E9\u003C\/span\u003E Il nous d\u00e9voile ainsi le myst\u003Cu\u003E\u00e8\u003C\/u\u003Ere de sa volont\u00e9, *\u003Cbr \/\u003E\nselon que sa bont\u00e9 l\u0027avait pr\u00e9v\u003Cu\u003Eu\u003C\/u\u003E dans le Christ :\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E10\u003C\/span\u003E pour mener les temps \u00e0 leur pl\u00e9nitude, +\u003Cbr \/\u003E\nr\u00e9capituler toutes ch\u003Cu\u003Eo\u003C\/u\u003Eses dans le Christ, *\u003Cbr \/\u003E\ncelles du ciel et c\u003Cu\u003Ee\u003C\/u\u003Elles de la terre.\u003C\/p\u003E"},"pericope":{"reference":"1 Co 15, 22-23","texte":"C\u2019est en Adam que meurent tous les hommes\u00a0; c\u2019est dans le Christ que tous revivront, mais chacun \u00e0 son rang\u00a0: en premier, le Christ\u00a0; et ensuite ceux qui seront au Christ."},"repons":"\u003Cp\u003ER\/ R\u00e9jouis-toi, Vierge Marie,\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003E* Dans la gloire du ciel.\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EV\/ Heureuse es-tu, M\u00e8re de Dieu :\u003Cbr \/\u003E\nen toi le Tout-Puissant a fait des merveilles.\u00a0*\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EV\/ Heureuse es-tu, M\u00e8re de l\u0027\u00c9glise :\u003Cbr \/\u003E\ntu brilles comme un signe d\u0027esp\u00e9rance.\u00a0*\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EV\/ Heureuse es-tu, M\u00e8re des hommes :\u003Cbr \/\u003E\ntu leur annonces le Royaume \u00e0 venir. * R\/\u003C\/p\u003E","antienne_magnificat":"\u003Cp\u003EAujourd\u0027hui, la Vierge Marie est mont\u00e9e au ciel. Soyez dans l\u0027all\u00e9gresse : avec le Christ elle r\u00e8gne \u00e0 jamais.\u003C\/p\u003E","cantique_mariale":{"reference":"Lc 1","titre":"Cantique de Marie","texte":"\u003Cp\u003E\u003Cspan class=\u0022verse_number\u0022\u003E47\u003C\/span\u003E Mon \u00e2me ex\u003Cu\u003Ea\u003C\/u\u003Elte le Seigneur,\u003Cbr \/\u003E\nexulte mon esprit en Die\u003Cu\u003Eu\u003C\/u\u003E, mon Sauveur !\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E48\u003C\/span\u003E Il s\u0027est pench\u00e9 sur son h\u003Cu\u003Eu\u003C\/u\u003Emble servante ;\u003Cbr \/\u003E\nd\u00e9sormais, tous les \u00e2ges me dir\u003Cu\u003Eo\u003C\/u\u003Ent bienheureuse.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E49\u003C\/span\u003E Le Puissant fit pour m\u003Cu\u003Eo\u003C\/u\u003Ei des merveilles ;\u003Cbr \/\u003E\nS\u003Cu\u003Ea\u003C\/u\u003Eint est son nom !\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E50\u003C\/span\u003E Son amour s\u0027\u00e9t\u003Cu\u003Ee\u003C\/u\u003End d\u0027\u00e2ge en \u00e2ge\u003Cbr \/\u003E\nsur ce\u003Cu\u003Eu\u003C\/u\u003Ex qui le craignent ;\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E51\u003C\/span\u003E D\u00e9ployant la f\u003Cu\u003Eo\u003C\/u\u003Erce de son bras,\u003Cbr \/\u003E\nil disp\u003Cu\u003Ee\u003C\/u\u003Erse les superbes.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E52\u003C\/span\u003E Il renverse les puiss\u003Cu\u003Ea\u003C\/u\u003Ents de leurs tr\u00f4nes,\u003Cbr \/\u003E\nil \u00e9l\u003Cu\u003E\u00e8\u003C\/u\u003Eve les humbles.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E53\u003C\/span\u003E Il comble de bi\u003Cu\u003Ee\u003C\/u\u003Ens les affam\u00e9s,\u003Cbr \/\u003E\nrenvoie les r\u003Cu\u003Ei\u003C\/u\u003Eches les mains vides.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E54\u003C\/span\u003E Il rel\u00e8ve Isra\u003Cu\u003E\u00eb\u003C\/u\u003El, son serviteur,\u003Cbr \/\u003E\nil se souvi\u003Cu\u003Ee\u003C\/u\u003Ent de son amour,\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cspan class=\u0022verse_number\u0022\u003E55\u003C\/span\u003E de la promesse f\u003Cu\u003Ea\u003C\/u\u003Eite \u00e0 nos p\u00e8res,\u003Cbr \/\u003E\nen faveur d\u0027Abraham et de sa r\u003Cu\u003Ea\u003C\/u\u003Ece, \u00e0 jamais.\u003C\/p\u003E"},"intercession":"\u003Cp\u003EB\u00e9nissons notre Dieu : il a voulu que toutes les g\u00e9n\u00e9rations proclament bienheureuse la M\u00e8re de son Fils.\u003C\/p\u003E\u003Cbr \/\u003ER\/ \u003Cp\u003EB\u00e9ni sois-tu Seigneur !\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EPour ton humble servante, attentive \u00e0 ta parole,\u003Cbr \/\u003E\nmod\u00e8le du c\u0153ur qui \u00e9coute,\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EPour celle qui a mis ton Fils au monde,\u003Cbr \/\u003E\nla m\u00e8re de l\u0027Homme nouveau,\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EPour celle qui a veill\u00e9 sur la croissance de J\u00e9sus,\u003Cbr \/\u003E\npr\u00e9sence maternelle dans l\u0027\u00c9glise,\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EPour celle qui s\u0027est tenue debout au pied de la croix,\u003Cbr \/\u003E\nforce des accabl\u00e9s,\u003C\/p\u003E\u003Cbr \/\u003E\u003Cp\u003EPour celle que tu as remplie de joie au matin de P\u00e2ques,\u003Cbr \/\u003E\nesp\u00e9rance des vivants,\u003Cbr \/\u003E\u003Cbr \/\u003E\nPour celle que tu as fait monter au ciel, pr\u00e8s de ton Fils,\u003Cbr \/\u003E\nsecours des mourants,\u003C\/p\u003E","notre_pere":"Notre P\u00e8re","oraison":"\u003Cp\u003EDieu \u00e9ternel et tout-puissant, tu as fait monter jusqu\u0027\u00e0 la gloire du ciel, avec son \u00e2me et son corps, Marie, la Vierge immacul\u00e9e, m\u00e8re de ton Fils : fais que nous demeurions attentifs aux choses d\u0027en haut pour obtenir de partager sa gloire.\u003C\/p\u003E"};

var vepres_franciscaines = {"antienne_1":{"additionel":"","antienne_A":"","antienne_B":""},"psaume_1":{"reference":"","titre":"","texte":""},"antienne_2":{"additionel":"","antienne_A":"","antienne_B":""},"psaume_2":{"reference":"","titre":"","texte":""},"antienne_3":{"additionel":"","antienne_A":"","antienne_B":""},"psaume_3":{"reference":"","titre":"","texte":""},"pericope":{"reference":"","texte":""},"repons":"","antienne_marie":{"antienne_A":"Je considère tout comme une perte à cause de ce bien qui dépasse tout : la connaissance du Christ Jésus, mon Seigneur.","antienne_B":""},"intercession":{"introduction":"","refrain":"","texte":""},"oraison":"Répands sur nous, Seigneur, cet esprit de contemplation et d’amour dont tu as comblé ta servante Angèle de Foligno ; puissions-nous, en cherchant à te servir comme elle, croire et vivre de manière à te plaire. Par Jésus Christ.","benediction":""};

var messeTest = {
  "nom": "Messe du jour",
  "lectures": [
    {
      "type": "lecture_1",
      "refrain_psalmique": null,
      "ref_refrain": null,
      "titre": "La royauté de David subsistera toujours devant le Seigneur",
      "contenu": "<p>Le roi David habitait enfin dans sa maison.<br />\nLe Seigneur lui avait accordé la tranquillité<br />\nen le délivrant de tous les ennemis qui l’entouraient.<br />\nLe roi dit alors au prophète Nathan :<br />\n« Regarde ! J’habite dans une maison de cèdre,<br />\net l’arche de Dieu habite sous un abri de toile ! »<br />\nNathan répondit au roi :<br />\n« Tout ce que tu as l’intention de faire,<br />\nfais-le, car le Seigneur est avec toi. »<br />\nMais, cette nuit-là,<br />\nla parole du Seigneur fut adressée à Nathan :<br />\n« Va dire à mon serviteur David :<br />\nAinsi parle le Seigneur :<br />\nEst-ce toi qui me bâtiras une maison<br />\npour que j’y habite ?<br />\nC’est moi qui t’ai pris au pâturage,<br />\nderrière le troupeau,<br />\npour que tu sois le chef de mon peuple Israël.<br />\nJ’ai été avec toi partout où tu es allé,<br />\nj’ai abattu devant toi tous tes ennemis.<br />\nJe t’ai fait un nom aussi grand<br />\nque celui des plus grands de la terre.<br />\nJe fixerai en ce lieu mon peuple Israël,<br />\nje l’y planterai, il s’y établira<br />\net ne tremblera plus,<br />\net les méchants ne viendront plus l’humilier,<br />\ncomme ils l’ont fait autrefois,<br />\ndepuis le jour où j’ai institué des juges<br />\npour conduire mon peuple Israël.<br />\nOui, je t’ai accordé la tranquillité<br />\nen te délivrant de tous tes ennemis.</p>\n\n<p>Le Seigneur t’annonce<br />\nqu’il te fera lui-même une maison.<br />\nQuand tes jours seront accomplis<br />\net que tu reposeras auprès de tes pères,<br />\nje te susciterai dans ta descendance un successeur,<br />\nqui naîtra de toi,<br />\net je rendrai stable sa royauté.<br />\nMoi, je serai pour lui un père ;<br />\net lui sera pour moi un fils.<br />\nTa maison et ta royauté subsisteront toujours devant moi,<br />\nton trône sera stable pour toujours. »</p>\n\n<p>– Parole du Seigneur.</p>",
      "ref": "2 S 7, 1-5.8b-12.14a.16",
      "intro_lue": "Lecture du deuxième livre de Samuel",
      "verset_evangile": null,
      "ref_verset": null
    },
    {
      "type": "psaume",
      "refrain_psalmique": "<p>Ton amour, Seigneur,<br />\nsans fin je le chante !<br />\n </p>",
      "ref_refrain": "cf. 88, 2a",
      "titre": null,
      "contenu": "<p>L’amour du Seigneur, sans fin je le chante ;<br />\nta fidélité, je l’annonce d’âge en âge.<br />\nJe le dis : c’est un amour bâti pour toujours ;<br />\nta fidélité est plus stable que les cieux.</p>\n\n<p>« Avec mon élu, j’ai fait une alliance,<br />\nj’ai juré à David, mon serviteur :<br />\nJ’établirai ta dynastie pour toujours,<br />\nje te bâtis un trône pour la suite des âges. »</p>\n\n<p>« Il me dira : ‘Tu es mon Père,<br />\nmon Dieu, mon roc et mon salut !’<br />\nSans fin je lui garderai mon amour,<br />\nmon alliance avec lui sera fidèle. »</p>",
      "ref": "88 (89), 2-3, 4-5, 27.29",
      "intro_lue": null,
      "verset_evangile": null,
      "ref_verset": null
    },
    {
      "type": "lecture_2",
      "refrain_psalmique": null,
      "ref_refrain": null,
      "titre": "Le mystère gardé depuis toujours dans le silence est maintenant manifesté",
      "contenu": "<p>Frères,<br />\nà Celui qui peut vous rendre forts<br />\nselon mon Évangile qui proclame Jésus Christ :<br />\nrévélation d’un mystère<br />\ngardé depuis toujours dans le silence,<br />\nmystère maintenant manifesté<br />\nau moyen des écrits prophétiques,<br />\nselon l’ordre du Dieu éternel,<br />\nmystère porté à la connaissance de toutes les nations<br />\npour les amener à l’obéissance de la foi,<br />\nà Celui qui est le seul sage, Dieu, par Jésus Christ,<br />\nà lui la gloire pour les siècles. Amen.</p>\n\n<p>– Parole du Seigneur.</p>",
      "ref": "Rm 16, 25-27",
      "intro_lue": "Lecture de la lettre de saint Paul apôtre aux Romains",
      "verset_evangile": null,
      "ref_verset": null
    },
    {
      "type": "evangile",
      "refrain_psalmique": null,
      "ref_refrain": null,
      "titre": "« Voici que tu vas concevoir et enfanter un fils »",
      "contenu": "<p>En ce temps-là,<br />\nl’ange Gabriel fut envoyé par Dieu<br />\ndans une ville de Galilée, appelée Nazareth,<br />\nà une jeune fille vierge,<br />\naccordée en mariage à un homme de la maison de David,<br />\nappelé Joseph ;<br />\net le nom de la jeune fille était Marie.<br />\nL’ange entra chez elle et dit :<br />\n« Je te salue, Comblée-de-grâce,<br />\nle Seigneur est avec toi. »<br />\nÀ cette parole, elle fut toute bouleversée,<br />\net elle se demandait ce que pouvait signifier cette salutation.<br />\nL’ange lui dit alors :<br />\n« Sois sans crainte, Marie,<br />\ncar tu as trouvé grâce auprès de Dieu.<br />\nVoici que tu vas concevoir et enfanter un fils ;<br />\ntu lui donneras le nom de Jésus.<br />\nIl sera grand,<br />\nil sera appelé Fils du Très-Haut ;<br />\nle Seigneur Dieu<br />\nlui donnera le trône de David son père ;<br />\nil régnera pour toujours sur la maison de Jacob,<br />\net son règne n’aura pas de fin. »<br />\nMarie dit à l’ange :<br />\n« Comment cela va-t-il se faire,<br />\npuisque je ne connais pas d’homme ? »<br />\nL’ange lui répondit :<br />\n« L’Esprit Saint viendra sur toi,<br />\net la puissance du Très-Haut<br />\nte prendra sous son ombre ;<br />\nc’est pourquoi celui qui va naître sera saint,<br />\nil sera appelé Fils de Dieu.<br />\nOr voici que, dans sa vieillesse, Élisabeth, ta parente,<br />\na conçu, elle aussi, un fils<br />\net en est à son sixième mois,<br />\nalors qu’on l’appelait la femme stérile.<br />\nCar rien n’est impossible à Dieu. »<br />\nMarie dit alors :<br />\n« Voici la servante du Seigneur ;<br />\nque tout m’advienne selon ta parole. »</p>\n\n<p>Alors l’ange la quitta.</p>\n\n<p>– Acclamons la Parole de Dieu.</p>",
      "ref": "Lc 1, 26-38",
      "intro_lue": "Évangile de Jésus Christ selon saint Luc",
      "verset_evangile": "<p><strong>Alléluia. Alléluia.</strong><br />\nVoici la servante du Seigneur ;<br />\nque tout m’advienne selon ta parole.<br /><strong>Alléluia.</strong></p>",
      "ref_verset": "Lc 1, 38"
    }
  ]
};

function main(){
  //console.log(create_messe_html(messeTest, "a", "b"));
}

//main();
